(this.webpackJsonppelis=this.webpackJsonppelis||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/no-image.99ca1a41.jpg"},,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(10),o=a.n(i),s=(a(16),a(7)),c=a(1),l=a(2),u=a(4),h=a(3),p=a(6),v=a(5),f=(a(17),a(18),function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).inputChanges=function(e){var t=e.currentTarget.value;t.length>3&&a.props.actionToPerform(t)},a.inputKeyUp=function(e){var t=e.currentTarget.value;13===e.keyCode&&a.props.actionToPerform(t)},a}return Object(v.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"input-search"},n.a.createElement("h1",null,"Input Search"),n.a.createElement("input",{type:"text",onChange:this.inputChanges,onKeyUp:this.inputKeyUp}))}}]),t}(n.a.Component)),m=(a(19),a(20),a(8)),d=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.cardSelected;return n.a.createElement("div",{id:this.props.movie.imdbID,className:this.props.class,onClick:e},n.a.createElement("p",null,this.getTitle()),n.a.createElement("img",{src:this.getSrc(),onError:this.errorSrc,alt:"Movie"}))}},{key:"getTitle",value:function(){return this.props.movie.Title.length<41||"normal"===this.props.class?this.props.movie.Title:this.props.movie.Title.substr(0,40)+"..."}},{key:"getSrc",value:function(){return"N/A"===this.props.movie.Poster?m:this.props.movie.Poster}},{key:"errorSrc",value:function(e){e.currentTarget.onError=null,e.currentTarget.src=m}}]),t}(n.a.Component),g=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.cardSelected;return n.a.createElement("div",{className:"card-container"},this.props.list.map((function(a,r){return n.a.createElement(d,{class:e.props.class,key:a.imdbID+r,movie:a,cardSelected:t})})))}}]),t}(n.a.Component),b=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={list:[],favorites:a.loadFromLocalStorage("favorites")||[]},a.getMovies=a.getMovies.bind(Object(p.a)(a)),a.cardSelected=a.cardSelected.bind(Object(p.a)(a)),a}return Object(v.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.getMovies,t=this.cardSelected;return n.a.createElement("div",{className:"App"},n.a.createElement(f,{buttonName:"busca",actionToPerform:e}),n.a.createElement("main",null,n.a.createElement("aside",{className:"aside"},n.a.createElement(g,{list:this.state.favorites,cardSelected:t,class:"favorite"})),n.a.createElement("section",{className:"section"},n.a.createElement(g,{list:this.state.list,cardSelected:t,class:"normal"}))))}},{key:"getMovies",value:function(e){var t=this;fetch("https://www.omdbapi.com/?s=".concat(e,"&plot=full&apikey=e477ed6a&page=").concat(1,"&type=").concat("movie")).then((function(e){return e.json()})).then((function(e){e.Search&&e.Search.length>0?(t.setState({list:[]}),t.setState({list:e.Search})):t.setState({list:[]})}))}},{key:"cardSelected",value:function(e){var t=e.currentTarget.id,a=this.searchById(t,this.state.list),r=this.searchById(t,this.state.favorites);if(a)if(r){var n=Object.assign([],this.state.favorites);n.splice(n.indexOf(a),1),this.saveToLocalStorage("favorites",n),this.setState({favorites:Object(s.a)(n)})}else this.saveToLocalStorage("favorites",[].concat(Object(s.a)(this.state.favorites),[a])),this.setState({favorites:[].concat(Object(s.a)(this.state.favorites),[a])});else{var i=Object.assign([],this.state.favorites);i.splice(i.indexOf(r),1),this.saveToLocalStorage("favorites",i),this.setState({favorites:Object(s.a)(i)})}}},{key:"saveToLocalStorage",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},{key:"loadFromLocalStorage",value:function(e){return JSON.parse(localStorage.getItem(e))}},{key:"searchById",value:function(e,t){var a=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var s=i.value;if(s&&s.imdbID.toString()===e.toString())return s}}catch(c){r=!0,n=c}finally{try{a||null==o.return||o.return()}finally{if(r)throw n}}return null}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[11,1,2]]]);
//# sourceMappingURL=main.908cf6f9.chunk.js.map